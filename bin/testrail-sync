#!/usr/bin/env node

var program = require('commander');
var ScenarioSynchronizer = require('../lib/').ScenarioSynchronizer;

program
  .version(require('../package.json').version)
  .option('--verify', 'Verify that the local features files match the test cases from TestRail')
  .option('--silent', 'Disable output')
  .parse(process.argv);

var sync = new ScenarioSynchronizer();

var config = require('../lib/').readConfig();
config.verify = program.verify || config.verify || false;
config.silent = program.silent || config.silent || false;

sync.synchronize(config, function (err) {
  process.exit(err ? 1 : 0);
});
